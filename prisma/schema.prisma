generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model User {
    id              String    @id @default(uuid())
    username        String    @unique
    password        String
    name            String
    favSellers      FavSeller[]
    favProducts     FavProduct[]
    sellers         Seller[]
}

model FavSeller {
    id               Int             @id @unique @default(autoincrement())
    seller           Seller          @relation(fields: [sellerId], references: [id])
    sellerId         Int
    user             User            @relation(fields: [userId], references: [id])
    userId           String
}

model FavProduct {
    id               Int             @id @unique @default(autoincrement())
    product          Product         @relation(fields: [productId], references: [id])
    productId        Int
    user             User            @relation(fields: [userId], references: [id])
    userId           String
}

model Product {
    id              Int       @id @default(autoincrement())
    description     String
    favProduct      FavProduct[]
}

enum SellerCategory {
    Bar
    Brewer
}

enum ProductCategory {
    WhiteSpirit
    Rum
    Gin
}

model Seller {
    id               Int       @id @default(autoincrement())
    place_name       String
    operating_time   String[]
    description      String
    latitude         Float
    longitude        Float
    address          String
    tel              String
    email            String
    category         SellerCategory
    product_category ProductCategory
    images           String[]
    user             User            @relation(fields: [userId], references: [id])
    userId           String
    favSellers       FavSeller[]
    
}

